\hypertarget{classex5_1_1Dijsktra}{}\section{ex5.\+Dijsktra Class Reference}
\label{classex5_1_1Dijsktra}\index{ex5.\+Dijsktra@{ex5.\+Dijsktra}}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classex5_1_1Dijsktra_a35f98850beb55ca51eaa52f4372c9624}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, filename, start)
\item 
def \hyperlink{classex5_1_1Dijsktra_aea7ae3d54e417bfbae33810b4af4b43f}{run} (self)
\item 
def \hyperlink{classex5_1_1Dijsktra_a18db63176ac6b4f62a9cdf065ae12059}{read\+G\+PH} (self, filename)
\item 
def \hyperlink{classex5_1_1Dijsktra_aee756193b4ffa1f19d0d815c382e9f5c}{dijkstra} (self, source)
\item 
def \hyperlink{classex5_1_1Dijsktra_ac7a2651336adf722eb4ce920736d2ff1}{get\+Path} (self, source, dest)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
{\bfseries graph}\hypertarget{classex5_1_1Dijsktra_a83705e1cb604286451ba4da61b409c12}{}\label{classex5_1_1Dijsktra_a83705e1cb604286451ba4da61b409c12}

\item 
{\bfseries filename}\hypertarget{classex5_1_1Dijsktra_a8dbe32a7b317f625e654e87934e5200d}{}\label{classex5_1_1Dijsktra_a8dbe32a7b317f625e654e87934e5200d}

\item 
{\bfseries start}\hypertarget{classex5_1_1Dijsktra_a49d81cee4303a19a8c88e556ef6f5220}{}\label{classex5_1_1Dijsktra_a49d81cee4303a19a8c88e556ef6f5220}

\item 
{\bfseries paths}\hypertarget{classex5_1_1Dijsktra_a8f901f6dee7ce81c439c4752b9947164}{}\label{classex5_1_1Dijsktra_a8f901f6dee7ce81c439c4752b9947164}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}Provides mainly two functions to receive the path from Dijkstras algortihm:
dijkstra, getPath. The rest is performance.
\end{DoxyVerb}
 

Definition at line 44 of file ex5.\+py.



\subsection{Constructor \& Destructor Documentation}
\index{ex5\+::\+Dijsktra@{ex5\+::\+Dijsktra}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!ex5\+::\+Dijsktra@{ex5\+::\+Dijsktra}}
\subsubsection[{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+(self, filename, start)}{__init__(self, filename, start)}}]{\setlength{\rightskip}{0pt plus 5cm}def ex5.\+Dijsktra.\+\_\+\+\_\+init\+\_\+\+\_\+ (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{filename, }
\item[{}]{start}
\end{DoxyParamCaption}
)}\hypertarget{classex5_1_1Dijsktra_a35f98850beb55ca51eaa52f4372c9624}{}\label{classex5_1_1Dijsktra_a35f98850beb55ca51eaa52f4372c9624}
\begin{DoxyVerb}Initialise the Graph class and start running the script.

Parameters
----------
filename : graph file to extract the path from
start : the node to begin with [default = 1]
(graph : internally instanciated)

Example
-------
d = Dijkstra('world666.gph', 1)
d.run()
\end{DoxyVerb}
 

Definition at line 50 of file ex5.\+py.


\begin{DoxyCode}
50     \textcolor{keyword}{def }\hyperlink{classex5_1_1Dijsktra_a35f98850beb55ca51eaa52f4372c9624}{\_\_init\_\_}(self, filename, start):
51         \textcolor{stringliteral}{"""}
52 \textcolor{stringliteral}{        Initialise the Graph class and start running the script.}
53 \textcolor{stringliteral}{}
54 \textcolor{stringliteral}{        Parameters}
55 \textcolor{stringliteral}{        ----------}
56 \textcolor{stringliteral}{        filename : graph file to extract the path from}
57 \textcolor{stringliteral}{        start : the node to begin with [default = 1]}
58 \textcolor{stringliteral}{        (graph : internally instanciated)}
59 \textcolor{stringliteral}{}
60 \textcolor{stringliteral}{        Example}
61 \textcolor{stringliteral}{        -------}
62 \textcolor{stringliteral}{        d = Dijkstra('world666.gph', 1)}
63 \textcolor{stringliteral}{        d.run()}
64 \textcolor{stringliteral}{        """}
65         self.\hyperlink{classex5_1_1Dijsktra_a83705e1cb604286451ba4da61b409c12}{graph} = \hyperlink{classex5_1_1Graph}{Graph}()
66         self.\hyperlink{classex5_1_1Dijsktra_a8dbe32a7b317f625e654e87934e5200d}{filename} = filename
67         self.\hyperlink{classex5_1_1Dijsktra_a49d81cee4303a19a8c88e556ef6f5220}{start} = start
68 
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ex5\+::\+Dijsktra@{ex5\+::\+Dijsktra}!dijkstra@{dijkstra}}
\index{dijkstra@{dijkstra}!ex5\+::\+Dijsktra@{ex5\+::\+Dijsktra}}
\subsubsection[{\texorpdfstring{dijkstra(self, source)}{dijkstra(self, source)}}]{\setlength{\rightskip}{0pt plus 5cm}def ex5.\+Dijsktra.\+dijkstra (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{source}
\end{DoxyParamCaption}
)}\hypertarget{classex5_1_1Dijsktra_aee756193b4ffa1f19d0d815c382e9f5c}{}\label{classex5_1_1Dijsktra_aee756193b4ffa1f19d0d815c382e9f5c}
\begin{DoxyVerb}Scan the given graph from source.

Parameters
----------
(source : the source node where the search starts)
\end{DoxyVerb}
 

Definition at line 127 of file ex5.\+py.


\begin{DoxyCode}
127     \textcolor{keyword}{def }\hyperlink{classex5_1_1Dijsktra_aee756193b4ffa1f19d0d815c382e9f5c}{dijkstra}(self, source):
128         \textcolor{stringliteral}{"""}
129 \textcolor{stringliteral}{        Scan the given graph from source.}
130 \textcolor{stringliteral}{}
131 \textcolor{stringliteral}{        Parameters}
132 \textcolor{stringliteral}{        ----------}
133 \textcolor{stringliteral}{        (source : the source node where the search starts)}
134 \textcolor{stringliteral}{        """}
135         unvisited = set(self.graph.nodes)
136         visited = \{source: 0\}
137         paths = \{\}
138 
139         \textcolor{keywordflow}{while} unvisited:
140             min\_node = \textcolor{keywordtype}{None}
141             \textcolor{keywordflow}{for} node \textcolor{keywordflow}{in} unvisited:
142                 \textcolor{keywordflow}{if} node \textcolor{keywordflow}{in} visited:
143                     \textcolor{keywordflow}{if} min\_node \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
144                         min\_node = node
145                     \textcolor{keywordflow}{elif} visited[node] < visited[min\_node]:
146                         min\_node = node
147 
148             \textcolor{keywordflow}{if} min\_node \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
149                 \textcolor{keywordflow}{break}
150 
151             unvisited.remove(min\_node)
152             \textcolor{comment}{# for edge in graph.getNeighboursOf(min\_node):}
153             \textcolor{keywordflow}{for} edge \textcolor{keywordflow}{in} self.graph.edges[min\_node]:  \textcolor{comment}{# less elegant but faster}
154                 \textcolor{keywordflow}{try}:
155                     weight = visited[min\_node] + self.graph.distances[(min\_node, edge)]
156                     \textcolor{comment}{# edge\_is\_found = True}
157                     \textcolor{comment}{# print("\{\}-\{\} found".format(edge, min\_node))}
158 
159                 \textcolor{keywordflow}{except} KeyError:
160                     \textcolor{comment}{# landing here if desired edge doesn't exist in distances}
161                     \textcolor{comment}{# print("\{\}-\{\} not found".format(min\_node, edge))}
162                     \textcolor{keywordflow}{continue}
163 
164                 \textcolor{comment}{# if edge\_is\_found:}
165                 \textcolor{keywordflow}{else}:
166                     \textcolor{keywordflow}{if} edge \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} visited \textcolor{keywordflow}{or} weight < visited[edge]:
167                         visited[edge] = weight
168                         paths[edge] = min\_node
169 
170         print(visited, paths)
171         \textcolor{comment}{# sys.exit()}
172         \textcolor{keywordflow}{return} visited, paths
173 
\end{DoxyCode}
\index{ex5\+::\+Dijsktra@{ex5\+::\+Dijsktra}!get\+Path@{get\+Path}}
\index{get\+Path@{get\+Path}!ex5\+::\+Dijsktra@{ex5\+::\+Dijsktra}}
\subsubsection[{\texorpdfstring{get\+Path(self, source, dest)}{getPath(self, source, dest)}}]{\setlength{\rightskip}{0pt plus 5cm}def ex5.\+Dijsktra.\+get\+Path (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{source, }
\item[{}]{dest}
\end{DoxyParamCaption}
)}\hypertarget{classex5_1_1Dijsktra_ac7a2651336adf722eb4ce920736d2ff1}{}\label{classex5_1_1Dijsktra_ac7a2651336adf722eb4ce920736d2ff1}
\begin{DoxyVerb}Search for the path as given from dijkstra algorithm.

Parameters
----------
source : start node
dest : end node
\end{DoxyVerb}
 

Definition at line 174 of file ex5.\+py.


\begin{DoxyCode}
174     \textcolor{keyword}{def }\hyperlink{classex5_1_1Dijsktra_ac7a2651336adf722eb4ce920736d2ff1}{getPath}(self, source, dest):
175         \textcolor{stringliteral}{"""}
176 \textcolor{stringliteral}{        Search for the path as given from dijkstra algorithm.}
177 \textcolor{stringliteral}{}
178 \textcolor{stringliteral}{        Parameters}
179 \textcolor{stringliteral}{        ----------}
180 \textcolor{stringliteral}{        source : start node}
181 \textcolor{stringliteral}{        dest : end node}
182 \textcolor{stringliteral}{        """}
183         track = deque()
184         print(source, dest)
185         destination = self.\hyperlink{classex5_1_1Dijsktra_a8f901f6dee7ce81c439c4752b9947164}{paths}[dest]
186 
187         \textcolor{keywordflow}{while} destination != source:
188             track.appendleft(destination)
189             destination = self.\hyperlink{classex5_1_1Dijsktra_a8f901f6dee7ce81c439c4752b9947164}{paths}[destination]
190 
191         track.appendleft(source)
192         track.append(dest)
193 
194         \textcolor{keywordflow}{return} list(track)
195 
196 
\end{DoxyCode}
\index{ex5\+::\+Dijsktra@{ex5\+::\+Dijsktra}!read\+G\+PH@{read\+G\+PH}}
\index{read\+G\+PH@{read\+G\+PH}!ex5\+::\+Dijsktra@{ex5\+::\+Dijsktra}}
\subsubsection[{\texorpdfstring{read\+G\+P\+H(self, filename)}{readGPH(self, filename)}}]{\setlength{\rightskip}{0pt plus 5cm}def ex5.\+Dijsktra.\+read\+G\+PH (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{filename}
\end{DoxyParamCaption}
)}\hypertarget{classex5_1_1Dijsktra_a18db63176ac6b4f62a9cdf065ae12059}{}\label{classex5_1_1Dijsktra_a18db63176ac6b4f62a9cdf065ae12059}
\begin{DoxyVerb}Read and process a gph-file.

Parameters
----------
(filename : graph file to extract the path from)
\end{DoxyVerb}
 

Definition at line 106 of file ex5.\+py.


\begin{DoxyCode}
106     \textcolor{keyword}{def }\hyperlink{classex5_1_1Dijsktra_a18db63176ac6b4f62a9cdf065ae12059}{readGPH}(self, filename):
107         \textcolor{stringliteral}{"""}
108 \textcolor{stringliteral}{        Read and process a gph-file.}
109 \textcolor{stringliteral}{}
110 \textcolor{stringliteral}{        Parameters}
111 \textcolor{stringliteral}{        ----------}
112 \textcolor{stringliteral}{        (filename : graph file to extract the path from)}
113 \textcolor{stringliteral}{        """}
114         \textcolor{comment}{# get the first line with n nodes and n connections}
115         with open(filename, mode=\textcolor{stringliteral}{'r') as gph:}
116 \textcolor{stringliteral}{            }\textcolor{keywordflow}{for} line \textcolor{keywordflow}{in} gph:
117                 header = line.split(\textcolor{stringliteral}{' '})
118                 \textcolor{keywordflow}{if} len(header) == 2:
119                     nodes\_ = int(header[0])
120                     conns = int(header[1])
121                     \textcolor{keywordflow}{break}
122 
123         \textcolor{comment}{# reopen and get all edges with respective weights}
124         data = np.genfromtxt(filename, dtype=int, comments=\textcolor{stringliteral}{'#'}, delimiter=\textcolor{stringliteral}{' '}, skip\_header=1)
125         \textcolor{keywordflow}{return} nodes\_, conns, data[:, 0], data[:, 1], data[:, 2]
126 
\end{DoxyCode}
\index{ex5\+::\+Dijsktra@{ex5\+::\+Dijsktra}!run@{run}}
\index{run@{run}!ex5\+::\+Dijsktra@{ex5\+::\+Dijsktra}}
\subsubsection[{\texorpdfstring{run(self)}{run(self)}}]{\setlength{\rightskip}{0pt plus 5cm}def ex5.\+Dijsktra.\+run (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}\hypertarget{classex5_1_1Dijsktra_aea7ae3d54e417bfbae33810b4af4b43f}{}\label{classex5_1_1Dijsktra_aea7ae3d54e417bfbae33810b4af4b43f}
\begin{DoxyVerb}Execute the task:
- Read in graph file
- search paths with dijkstra
- search for the path
\end{DoxyVerb}
 

Definition at line 69 of file ex5.\+py.


\begin{DoxyCode}
69     \textcolor{keyword}{def }\hyperlink{classex5_1_1Dijsktra_aea7ae3d54e417bfbae33810b4af4b43f}{run}(self):
70         \textcolor{stringliteral}{"""}
71 \textcolor{stringliteral}{        Execute the task:}
72 \textcolor{stringliteral}{        - Read in graph file}
73 \textcolor{stringliteral}{        - search paths with dijkstra}
74 \textcolor{stringliteral}{        - search for the path}
75 \textcolor{stringliteral}{        """}
76         N, conns, nodesA, nodesB, weight = self.\hyperlink{classex5_1_1Dijsktra_a18db63176ac6b4f62a9cdf065ae12059}{readGPH}(self.\hyperlink{classex5_1_1Dijsktra_a8dbe32a7b317f625e654e87934e5200d}{filename})
77         print(\textcolor{stringliteral}{"\{\} nodes with \{\} connections"}.format(N, conns))
78 
79         \textcolor{comment}{# prepare the graph with nodes and edges}
80         [self.graph.addNode(i+1) \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(N)]
81         [self.graph.addEdge(nodesA[i], nodesB[i], weight[i]) \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(len(nodesA))]
82 
83         \textcolor{comment}{# nodes\_taken = []}
84         path\_taken = []
85         dist\_taken = []
86         \textcolor{comment}{# search all paths}
87         visited, self.\hyperlink{classex5_1_1Dijsktra_a8f901f6dee7ce81c439c4752b9947164}{paths} = self.\hyperlink{classex5_1_1Dijsktra_aee756193b4ffa1f19d0d815c382e9f5c}{dijkstra}(self.\hyperlink{classex5_1_1Dijsktra_a49d81cee4303a19a8c88e556ef6f5220}{start})
88         \textcolor{comment}{# print("dijkstra finished")}
89         \textcolor{comment}{# print(nodesB, len(nodesB), len(set(nodesB)))}
90         \textcolor{comment}{# sys.exit()}
91         \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} nodesB:
92             \textcolor{keywordflow}{if} i == self.\hyperlink{classex5_1_1Dijsktra_a49d81cee4303a19a8c88e556ef6f5220}{start}:
93                 \textcolor{keywordflow}{continue}
94             \textcolor{comment}{# now find for every node the longest way to the start node}
95             track = self.\hyperlink{classex5_1_1Dijsktra_ac7a2651336adf722eb4ce920736d2ff1}{getPath}(self.\hyperlink{classex5_1_1Dijsktra_a49d81cee4303a19a8c88e556ef6f5220}{start}, i)
96             \textcolor{comment}{# nodes\_taken.append(len(path))}
97             path\_taken.append(track)
98             dist\_taken.append(visited[i])
99 
100         max\_dist = max(dist\_taken)
101         idx = dist\_taken.index(max\_dist)
102         \textcolor{comment}{# prompt output}
103         print(\textcolor{stringliteral}{"RESULT VERTEX \{\}"}.format(path\_taken[idx][-1]))
104         print(\textcolor{stringliteral}{"RESULT DIST \{\}"}.format(max\_dist))
105 
\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/\+O\+P\+T\+I/bzfdinse/appfs/\+Dinsel/ex5/ex5.\+py\end{DoxyCompactItemize}
