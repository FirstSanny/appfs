\hypertarget{classdijkstra_1_1Dijsktra}{}\section{dijkstra.\+Dijsktra Class Reference}
\label{classdijkstra_1_1Dijsktra}\index{dijkstra.\+Dijsktra@{dijkstra.\+Dijsktra}}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classdijkstra_1_1Dijsktra_a07d851e3b6b71f4bb0bc37d7045fa1e9}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, filename, start)
\item 
def \hyperlink{classdijkstra_1_1Dijsktra_a291840e7c5018d10dc75cf4a2f322b4c}{run} (self)
\item 
def \hyperlink{classdijkstra_1_1Dijsktra_a8e0d20b4b73b58dc2198b425f0d71fc5}{read\+G\+PH} (self, filename)
\item 
def \hyperlink{classdijkstra_1_1Dijsktra_a851d3a005118bd06bbf7bebc15e2888f}{dijkstra} (self, source)
\item 
def \hyperlink{classdijkstra_1_1Dijsktra_a84fe73d0daafeb326e01196ab4ddf366}{get\+Path} (self, source, dest)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
{\bfseries graph}\hypertarget{classdijkstra_1_1Dijsktra_ad8ff1b636e8eb22edf2d009ddb45f925}{}\label{classdijkstra_1_1Dijsktra_ad8ff1b636e8eb22edf2d009ddb45f925}

\item 
{\bfseries filename}\hypertarget{classdijkstra_1_1Dijsktra_aed1c81c8ef8ea8b4ef1a8ee7379e4625}{}\label{classdijkstra_1_1Dijsktra_aed1c81c8ef8ea8b4ef1a8ee7379e4625}

\item 
{\bfseries start}\hypertarget{classdijkstra_1_1Dijsktra_a2c085616618ce62ff5635493437a1f42}{}\label{classdijkstra_1_1Dijsktra_a2c085616618ce62ff5635493437a1f42}

\item 
{\bfseries paths}\hypertarget{classdijkstra_1_1Dijsktra_ad69d7add778f77ed6d5ef2bbb92215e7}{}\label{classdijkstra_1_1Dijsktra_ad69d7add778f77ed6d5ef2bbb92215e7}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}.\end{DoxyVerb}
 

Definition at line 44 of file dijkstra.\+py.



\subsection{Constructor \& Destructor Documentation}
\index{dijkstra\+::\+Dijsktra@{dijkstra\+::\+Dijsktra}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!dijkstra\+::\+Dijsktra@{dijkstra\+::\+Dijsktra}}
\subsubsection[{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+(self, filename, start)}{__init__(self, filename, start)}}]{\setlength{\rightskip}{0pt plus 5cm}def dijkstra.\+Dijsktra.\+\_\+\+\_\+init\+\_\+\+\_\+ (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{filename, }
\item[{}]{start}
\end{DoxyParamCaption}
)}\hypertarget{classdijkstra_1_1Dijsktra_a07d851e3b6b71f4bb0bc37d7045fa1e9}{}\label{classdijkstra_1_1Dijsktra_a07d851e3b6b71f4bb0bc37d7045fa1e9}
\begin{DoxyVerb}Initialise the Graph class and start running the script.\end{DoxyVerb}
 

Definition at line 47 of file dijkstra.\+py.


\begin{DoxyCode}
47     \textcolor{keyword}{def }\hyperlink{classdijkstra_1_1Dijsktra_a07d851e3b6b71f4bb0bc37d7045fa1e9}{\_\_init\_\_}(self, filename, start):
48         \textcolor{stringliteral}{"""Initialise the Graph class and start running the script."""}
49         self.\hyperlink{classdijkstra_1_1Dijsktra_ad8ff1b636e8eb22edf2d009ddb45f925}{graph} = \hyperlink{classdijkstra_1_1Graph}{Graph}()
50         self.\hyperlink{classdijkstra_1_1Dijsktra_aed1c81c8ef8ea8b4ef1a8ee7379e4625}{filename} = filename
51         self.\hyperlink{classdijkstra_1_1Dijsktra_a2c085616618ce62ff5635493437a1f42}{start} = start
52 
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{dijkstra\+::\+Dijsktra@{dijkstra\+::\+Dijsktra}!dijkstra@{dijkstra}}
\index{dijkstra@{dijkstra}!dijkstra\+::\+Dijsktra@{dijkstra\+::\+Dijsktra}}
\subsubsection[{\texorpdfstring{dijkstra(self, source)}{dijkstra(self, source)}}]{\setlength{\rightskip}{0pt plus 5cm}def dijkstra.\+Dijsktra.\+dijkstra (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{source}
\end{DoxyParamCaption}
)}\hypertarget{classdijkstra_1_1Dijsktra_a851d3a005118bd06bbf7bebc15e2888f}{}\label{classdijkstra_1_1Dijsktra_a851d3a005118bd06bbf7bebc15e2888f}
\begin{DoxyVerb}Scan the given graph from source.\end{DoxyVerb}
 

Definition at line 101 of file dijkstra.\+py.


\begin{DoxyCode}
101     \textcolor{keyword}{def }\hyperlink{classdijkstra_1_1Dijsktra_a851d3a005118bd06bbf7bebc15e2888f}{dijkstra}(self, source):
102         \textcolor{stringliteral}{"""Scan the given graph from source."""}
103         unvisited = set(self.graph.nodes)
104         visited = \{source: 0\}
105         paths = \{\}
106 
107         \textcolor{keywordflow}{while} unvisited:
108             min\_node = \textcolor{keywordtype}{None}
109             \textcolor{keywordflow}{for} node \textcolor{keywordflow}{in} unvisited:
110                 \textcolor{keywordflow}{if} node \textcolor{keywordflow}{in} visited:
111                     \textcolor{keywordflow}{if} min\_node \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
112                         min\_node = node
113                     \textcolor{keywordflow}{elif} visited[node] < visited[min\_node]:
114                         min\_node = node
115 
116             \textcolor{keywordflow}{if} min\_node \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
117                 \textcolor{keywordflow}{break}
118 
119             unvisited.remove(min\_node)
120             \textcolor{comment}{# for edge in graph.getNeighboursOf(min\_node):}
121             \textcolor{keywordflow}{for} edge \textcolor{keywordflow}{in} self.graph.edges[min\_node]:  \textcolor{comment}{# less elegant but faster}
122                 \textcolor{keywordflow}{try}:
123                     weight = visited[min\_node] + self.graph.distances[(min\_node, edge)]
124                     edge\_is\_found = \textcolor{keyword}{True}
125                     \textcolor{comment}{# print("\{\}-\{\} found".format(edge, min\_node))}
126 
127                 \textcolor{keywordflow}{except} KeyError:
128                     \textcolor{comment}{# landing here if desired edge doesn't exist in distances}
129                     \textcolor{comment}{# print("\{\}-\{\} not found".format(min\_node, edge))}
130                     \textcolor{comment}{# try:}
131                     \textcolor{comment}{#     weight = visited[min\_node] + graph.distances[(edge, min\_node)]}
132                     \textcolor{comment}{#     edge\_is\_found = True}
133                     \textcolor{comment}{#     print("\{\}-\{\} instead".format(edge, min\_node))}
134                     \textcolor{comment}{# except KeyError:}
135                     \textcolor{comment}{#     print("\{\}-\{\} not found".format(edge, min\_node))}
136                     \textcolor{comment}{#     continue}
137                     \textcolor{keywordflow}{continue}
138 
139                 \textcolor{keywordflow}{if} edge\_is\_found:
140                     \textcolor{comment}{# < -- shortest path}
141                     \textcolor{comment}{# > -- longest path}
142                     \textcolor{keywordflow}{if} edge \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} visited \textcolor{keywordflow}{or} weight > visited[edge]:
143                         visited[edge] = weight
144                         paths[edge] = min\_node
145 
146         \textcolor{comment}{# print(visited, paths)}
147         \textcolor{comment}{# sys.exit()}
148         \textcolor{keywordflow}{return} visited, paths
149 
\end{DoxyCode}
\index{dijkstra\+::\+Dijsktra@{dijkstra\+::\+Dijsktra}!get\+Path@{get\+Path}}
\index{get\+Path@{get\+Path}!dijkstra\+::\+Dijsktra@{dijkstra\+::\+Dijsktra}}
\subsubsection[{\texorpdfstring{get\+Path(self, source, dest)}{getPath(self, source, dest)}}]{\setlength{\rightskip}{0pt plus 5cm}def dijkstra.\+Dijsktra.\+get\+Path (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{source, }
\item[{}]{dest}
\end{DoxyParamCaption}
)}\hypertarget{classdijkstra_1_1Dijsktra_a84fe73d0daafeb326e01196ab4ddf366}{}\label{classdijkstra_1_1Dijsktra_a84fe73d0daafeb326e01196ab4ddf366}
\begin{DoxyVerb}Search for the path as given from dijkstra algorithm.\end{DoxyVerb}
 

Definition at line 150 of file dijkstra.\+py.


\begin{DoxyCode}
150     \textcolor{keyword}{def }\hyperlink{classdijkstra_1_1Dijsktra_a84fe73d0daafeb326e01196ab4ddf366}{getPath}(self, source, dest):
151         \textcolor{stringliteral}{"""Search for the path as given from dijkstra algorithm."""}
152         track = deque()
153         destination = self.\hyperlink{classdijkstra_1_1Dijsktra_ad69d7add778f77ed6d5ef2bbb92215e7}{paths}[dest]
154 
155         \textcolor{keywordflow}{while} destination != source:
156             track.appendleft(destination)
157             destination = self.\hyperlink{classdijkstra_1_1Dijsktra_ad69d7add778f77ed6d5ef2bbb92215e7}{paths}[destination]
158 
159         track.appendleft(source)
160         track.append(dest)
161 
162         \textcolor{keywordflow}{return} list(track)
163 
164 
\end{DoxyCode}
\index{dijkstra\+::\+Dijsktra@{dijkstra\+::\+Dijsktra}!read\+G\+PH@{read\+G\+PH}}
\index{read\+G\+PH@{read\+G\+PH}!dijkstra\+::\+Dijsktra@{dijkstra\+::\+Dijsktra}}
\subsubsection[{\texorpdfstring{read\+G\+P\+H(self, filename)}{readGPH(self, filename)}}]{\setlength{\rightskip}{0pt plus 5cm}def dijkstra.\+Dijsktra.\+read\+G\+PH (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{filename}
\end{DoxyParamCaption}
)}\hypertarget{classdijkstra_1_1Dijsktra_a8e0d20b4b73b58dc2198b425f0d71fc5}{}\label{classdijkstra_1_1Dijsktra_a8e0d20b4b73b58dc2198b425f0d71fc5}
\begin{DoxyVerb}Read a gph-file. Get the first line with n nodes and n connections.
Reopen and get all edges with respective weights.
\end{DoxyVerb}
 

Definition at line 85 of file dijkstra.\+py.


\begin{DoxyCode}
85     \textcolor{keyword}{def }\hyperlink{classdijkstra_1_1Dijsktra_a8e0d20b4b73b58dc2198b425f0d71fc5}{readGPH}(self, filename):
86         \textcolor{stringliteral}{"""}
87 \textcolor{stringliteral}{        Read a gph-file. Get the first line with n nodes and n connections.}
88 \textcolor{stringliteral}{        Reopen and get all edges with respective weights.}
89 \textcolor{stringliteral}{        """}
90         with open(filename, mode=\textcolor{stringliteral}{'r') as gph:}
91 \textcolor{stringliteral}{            }\textcolor{keywordflow}{for} line \textcolor{keywordflow}{in} gph:
92                 header = line.split(\textcolor{stringliteral}{' '})
93                 \textcolor{keywordflow}{if} len(header) == 2:
94                     nodes\_ = int(header[0])
95                     conns = int(header[1])
96                     \textcolor{keywordflow}{break}
97 
98         data = np.genfromtxt(filename, dtype=int, comments=\textcolor{stringliteral}{'#'}, delimiter=\textcolor{stringliteral}{' '}, skip\_header=1)
99         \textcolor{keywordflow}{return} nodes\_, conns, data[:, 0], data[:, 1], data[:, 2]
100 
\end{DoxyCode}
\index{dijkstra\+::\+Dijsktra@{dijkstra\+::\+Dijsktra}!run@{run}}
\index{run@{run}!dijkstra\+::\+Dijsktra@{dijkstra\+::\+Dijsktra}}
\subsubsection[{\texorpdfstring{run(self)}{run(self)}}]{\setlength{\rightskip}{0pt plus 5cm}def dijkstra.\+Dijsktra.\+run (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}\hypertarget{classdijkstra_1_1Dijsktra_a291840e7c5018d10dc75cf4a2f322b4c}{}\label{classdijkstra_1_1Dijsktra_a291840e7c5018d10dc75cf4a2f322b4c}
\begin{DoxyVerb}Execute the task. Read in graph file, search paths with dijkstra,
search for the path.
\end{DoxyVerb}
 

Definition at line 53 of file dijkstra.\+py.


\begin{DoxyCode}
53     \textcolor{keyword}{def }\hyperlink{classdijkstra_1_1Dijsktra_a291840e7c5018d10dc75cf4a2f322b4c}{run}(self):
54         \textcolor{stringliteral}{"""}
55 \textcolor{stringliteral}{        Execute the task. Read in graph file, search paths with dijkstra,}
56 \textcolor{stringliteral}{        search for the path.}
57 \textcolor{stringliteral}{        """}
58         N, conns, nodesA, nodesB, weight = self.\hyperlink{classdijkstra_1_1Dijsktra_a8e0d20b4b73b58dc2198b425f0d71fc5}{readGPH}(self.\hyperlink{classdijkstra_1_1Dijsktra_aed1c81c8ef8ea8b4ef1a8ee7379e4625}{filename})
59         print(\textcolor{stringliteral}{"\{\} nodes with \{\} connections"}.format(N, conns))
60 
61         \textcolor{comment}{# prepare the graph with nodes and edges}
62         [self.graph.addNode(i+1) \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(N)]
63         [self.graph.addEdge(nodesA[i], nodesB[i], weight[i]) \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(len(nodesA))]
64 
65         \textcolor{comment}{# nodes\_taken = []}
66         path\_taken = []
67         dist\_taken = []
68         \textcolor{comment}{# search all paths}
69         visited, self.\hyperlink{classdijkstra_1_1Dijsktra_ad69d7add778f77ed6d5ef2bbb92215e7}{paths} = self.\hyperlink{classdijkstra_1_1Dijsktra_a851d3a005118bd06bbf7bebc15e2888f}{dijkstra}(self.\hyperlink{classdijkstra_1_1Dijsktra_a2c085616618ce62ff5635493437a1f42}{start})
70         print(\textcolor{stringliteral}{"dijkstra finished"})
71         \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} set(nodesB):
72             \textcolor{keywordflow}{if} i == self.\hyperlink{classdijkstra_1_1Dijsktra_a2c085616618ce62ff5635493437a1f42}{start}:
73                 \textcolor{keywordflow}{continue}
74             \textcolor{comment}{# now find for every node the longest way to the start node}
75             track = self.\hyperlink{classdijkstra_1_1Dijsktra_a84fe73d0daafeb326e01196ab4ddf366}{getPath}(self.\hyperlink{classdijkstra_1_1Dijsktra_a2c085616618ce62ff5635493437a1f42}{start}, i)
76             \textcolor{comment}{# nodes\_taken.append(len(path))}
77             path\_taken.append(track)
78             dist\_taken.append(visited[i])
79 
80         max\_dist = max(dist\_taken)
81         idx = dist\_taken.index(max\_dist)
82         print(\textcolor{stringliteral}{"RESULT VERTEX \{\}"}.format(path\_taken[idx][-1]))
83         print(\textcolor{stringliteral}{"RESULT DIST \{\}"}.format(max\_dist))
84 
\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/\+O\+P\+T\+I/bzfdinse/appfs/\+Dinsel/ex5/dijkstra.\+py\end{DoxyCompactItemize}
