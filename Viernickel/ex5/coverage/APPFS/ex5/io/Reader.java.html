<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../../.resources/report.gif" type="image/gif"/><title>Reader.java</title><link rel="stylesheet" href="../../../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../../.sessions.html" class="el_session">Sessions</a></span><a href="../../../index.html" class="el_report">ex5 (Jun 22, 2017 3:19:45 AM)</a> &gt; <a href="../../index.html" class="el_group">APPFS</a> &gt; <a href="../index.html" class="el_bundle">ex5</a> &gt; <a href="index.source.html" class="el_package">io</a> &gt; <span class="el_source">Reader.java</span></div><h1>Reader.java</h1><pre class="source lang-java linenums">package io;

import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;
import datastructure.*;

/**
 * Reads a file of the format:
 * nVertices nEdges
 * headId tailId weight
 * headId tailId weight
 * .
 * .
 * .
 * 
 * Saves nodes in an array and edges as neighbours within the Node datastructure
 * @author Merlin Viernickel
 * @date June 08 2017
 */
<span class="nc" id="L21">public class Reader{</span>
    
    /**
     * Reads the file returns a Node array
     * @param path Path to file
     * @return Array of nodes read
     */
    public static Node[] readFile(String path){
<span class="fc" id="L29">        FileReader fr = null;</span>
        BufferedReader br;
        String line;
        String[] split;
        int nNodes;
        int nEdges;
<span class="fc" id="L35">        Node[] nodes = null;</span>
        int headId;
        int tailId;
        int weight;
        int i;
        int j;
        
        
        try {
<span class="fc" id="L44">            fr = new FileReader(path);</span>
<span class="fc" id="L45">            br = new BufferedReader(fr);</span>
            
            /** Read first line */
<span class="fc" id="L48">            line = br.readLine();</span>
<span class="fc" id="L49">            nNodes = Integer.valueOf(line.split(&quot; &quot;)[0]);</span>
<span class="fc" id="L50">            nEdges = Integer.valueOf(line.split(&quot; &quot;)[1]);</span>
            
            /** Initialize node array */
<span class="fc" id="L53">            nodes = new Node[nNodes];</span>
<span class="fc bfc" id="L54" title="All 2 branches covered.">            for(i=0; i&lt;nNodes; i++){</span>
<span class="fc" id="L55">                nodes[i] = new Node(i);</span>
            }
<span class="fc" id="L57">            nodes[0].distance = 0;</span>
            
            /** Read and save edges */
<span class="fc bfc" id="L60" title="All 2 branches covered.">            for(j=0; j&lt;nEdges; j++){</span>
<span class="fc" id="L61">                line = br.readLine();</span>
<span class="fc" id="L62">                split = line.split(&quot; &quot;);</span>
<span class="fc" id="L63">                headId = Integer.valueOf(split[0])-1;</span>
<span class="fc" id="L64">                tailId = Integer.valueOf(split[1])-1;</span>
<span class="fc" id="L65">                weight = Integer.valueOf(split[2]);</span>
                
<span class="fc" id="L67">                Edge edge = new Edge(nodes[headId], nodes[tailId], weight);</span>
                
<span class="fc" id="L69">                nodes[headId].edges.add(edge);</span>
<span class="fc" id="L70">                nodes[tailId].edges.add(edge);</span>
            }
            
<span class="fc" id="L73">            br.close();</span>
<span class="pc" id="L74">            } catch (IOException e) {</span>
<span class="nc" id="L75">            e.printStackTrace();</span>
        }
<span class="fc" id="L77">        return nodes;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.6.201602180812</span>ex5 (Jun 22, 2017 3:19:45 AM)</div></body></html>